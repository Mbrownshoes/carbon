nrow(listSplit[[z]])
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
# })
})
View(along)
View(along)
View(along)
along = list()
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
# })
})
View(along)
along = list()
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
for (i in 1:nrow(listSplit[[z]])){
print(i)
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
})
View(along)
View(along)
View(along)
along = list()
mylist = list()
newList = list()
along =lapply(names(listSplit),function(z){
print(z)
for (i in 1:nrow(listSplit[[z]])){
print(i)
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
})
View(along)
View(along)
View(along)
along[[1]][["bio_flux_opt"]][["201201"]]
along[[1]][["bio_flux_opt"]][["yymm"]]
along[[1]][["bio_flux_opt"]][["201205"]]
along[[1]][["bio_flux_opt"]]
along[[1]]
along
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
})
})
View(along)
along
along[[1]][["bio_flux_opt"]][["201202"]]
along[[1]][["bio_flux_opt"]][["yymm"]]
along
along[[1]]
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <- c(newList,mylist)
# print(newList)
})
})
along
View(along)
along[[1]][["bio_flux_opt"]][["201202"]]
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <- c(newList,mylist)
# print(newList)
# })
})
View(along)
along[[1]][["bio_flux_opt"]][["201206"]]
along
View(along)
along[[1]][["bio_flux_opt"]][["201205"]]
along[[1]][["bio_flux_opt"]][["yymm"]]
along
names(along)
head(along)
along[[1]]
along[[2]]
along[[1]][["bio_flux_opt"]]
along[[1]][["yymm"]]
xx=along
View(xx)
along[[1]][["yymm"]]
along[[1]]
names(along[[1]])
names(along)
names(along[1])
names(xx)
names(xx[1])
names(xx[[1]])
names(xx[[2]])
listSplit[[z]][i]$yymm]
listSplit[[z]][i]$yymm
mylist
xx[[1]]
xx[1]
xx[1]
xx[1] <- 'first'
xx
xx[1]
head(xx)
xx=along
xx[[1]]
names(xx)
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
xxx=mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <- c(newList,mylist)
# print(newList)
# })
})
View(along)
xx=0
xx=along
xx
names(xx)
names(xx[[1]])
names(xx[[2]])
names(xx[1)
names(xx[1])
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <- john= c(newList,mylist)
# print(newList)
# })
})
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
john= c(newList,mylist)
# print(newList)
# })
})
along
along[[1]]
along
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <-  c(z,mylist)
# print(newList)
# })
})
along
View(along)
along[[1]]
View(xx)
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <-  c(newList,mylist)
# print(newList)
# })
})
View(along)
along
along[[1]][[1]]
along[[1]]
along[[1]][[1]]
along[[1]]
along[[1]][[1]]
io=along
View(io)
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
newList <-  c(z,newList,mylist)
# print(newList)
# })
})
io=along
View(io)
io[[1]]
io[[2]]
ii=io
View(ii)
ii[[1]][[1]]
ii[[1]]
ii[[1]][1]
ii[[1]][2]
along =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
mylist[['loc']] = z
newList <-  c(newList,mylist)
# print(newList)
# })
})
along
listLocation =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
mylist[['loc']] = z
newList <-  c(newList,mylist)
# print(newList)
# })
})
View(listLocation)
listLocation
listLocation[[1]]
listLocation[[1]]$loc = listSplit[[z]][i]$bio_flux_op
listLocation[[1]]$loc
listSplit[[z]]
listLocation[[1]]$loc = listSplit[[z]]
listLocation[[1]]$loc
head(listLocation)
listLocation[[1]]$loc
listLocation[[2]]$loc
listLocation[[[2]]$loc] = listSplit[[z]]
listLocation[[2]]$loc[[vals]] = listSplit[[z]]
listLocation[[2]]$loc[[vals]] = listSplit[[z]]$bio_flux_op
listLocation[[2]]$loc[vals] = listSplit[[z]]$bio_flux_op
listSplit[[z]][i]$bio_flux_op
listSplit[[z]]$bio_flux_op
mylist = list()
mylist[['loc']] = z
mylist
listLocation =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
newList <-  c(newList,mylist)
# print(newList)
# })
})
head(listLocation)
View(listLocation)
head(listLocation)
listLocation[[1]]
listLocation[[1]]$loc
listLocation =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(newList,mylist)
# print(newList)
# })
})
listLocation[[1]]
listLocation
listLocation[[1]]
listLocation[[1]][[1]]
listLocation[[1]][[2]]
listLocation[[1]][[3]]
v=listLocation
View(v)
listLocation1 =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,mylist)
# print(newList)
# })
})
View(listLocation1)
listLocation1 =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,vals=mylist)
# print(newList)
# })
})
listLocation1
listLocation1 =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,mylist)
# print(newList)
# })
})
listLocation1
listLocation1 =list()
listLocation1 =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,mylist)
# print(newList)
# })
})
listLocation1
listLocation=listLocation1
View(listLocation)
listLocation1
listLocation1[[1]]
listLocation[[1]][["loc"]]
listLocation[[1]][[2]]
listLocation`[[1]][[2]]
1
''
q
listLocation[[1]][[2]]
listLocation[[1]][[1]]
listLocation[[1]]
listLocation[[1]][[2]]
listLocation[[1]][[2]]$`201201`
listLoc =lapply(names(listSplit),function(z){
mylist = list()
newList = list()
print(z)
newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,mylist)
# print(newList)
# })
})
View(listLoc)
listLoc[[1]][[2]][["201203"]]
jsonOut<-toJSON(list(name="carbon",children=listLoc))
jsonOut<-toJSON(list(name="carbon",children=listLoc),pretty=TRUE)
out
cat(jsonOut,file='tst.json')
listLoc =lapply(names(listSplit),function(z){
mylist = list()
# newList = list()
print(z)
# newList[['loc']] = z
# lapply(listSplit[[z]],function(t){
for (i in 1:nrow(listSplit[[z]])){
print(listSplit[[z]][i])
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
#add lat long
combinedList <-  list(loc=z,mylist)
# print(newList)
# })
})
View(listLoc)
listLoc
listLoc[[1]]
listLoc =lapply(names(listSplit),function(z){
mylist = list()
print(z)
for (i in 1:nrow(listSplit[[z]])){
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
list(loc=z,mylist)
})
listLoc[[1]]
listLoc[[1]][[2]]
listLoc[[1]][[1]]
listLoc[[1]][[2]]
listLoc[[2]][[2]]
listLoc[[2]][[1]]
z
lapply(seq(nrow(listSplit[[z]])),function(y){
print(y)
list(loc=z,mylist[[listSplit[[z]][y]$yymm]] = listSplit[[z]][y]$bio_flux_op)})
lapply(seq(nrow(listSplit[[z]])),function(y){
print(y)
# list(loc=z,mylist[[listSplit[[z]][y]$yymm]] = listSplit[[z]][y]$bio_flux_op)
})
#use to drop split columns - works but not nested correctly
mysplitDT <- function(x, bycols){
split( x[, !bycols, with=FALSE], x[, bycols, with=FALSE] )
}
listSplit <- mysplitDT(b, by=c("x", "y"))
listLoc =lapply(names(listSplit),function(z){
mylist = list()
for (i in 1:nrow(listSplit[[z]])){
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
list(loc=z,mylist)
})
listLoc =lapply(names(listSplit),function(z){
mylist = list()
for (i in 1:nrow(listSplit[[z]])){
mylist[[listSplit[[z]][i]$yymm]] = listSplit[[z]][i]$bio_flux_op
}
list(loc=z,mylist)
})
listLoc
