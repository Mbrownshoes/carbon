#5  40.72158 -73.99348    5 route1
write.csv(result, "/Users/mathewbrown/projects/bikeRoute/newbikedatafile.csv", row.names=FALSE)
head(iris)
iris
head(iris)
typeof(iris)
iris["1"]
iris[1]
head(iris)
iris[1][1]
iris[1][2]
iris[1][1]
iris[1]
iris[2]
install.packages(c("boot", "class", "cluster", "codetools", "foreign", "ggplot2", "intervals", "KernSmooth", "lattice", "manipulate", "MASS", "Matrix", "mgcv", "nlme", "nnet", "RCurl", "rpart", "spatial", "survival", "XML"))
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("tibble")
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
summary(iris)
summary(iris)
plot(pressure)
plot(pressure)
```{r pressure, echo=TRUE}
plot(pressure)
plot(pressure,echo=FALSE)
plot(pressure)
jsonlite
install.packages("jsonlite")
library(jsonlite)
cat(
paste(
'<script>
var data = ',toJSON(iris[c(5,1,2)]),';
</script>'
, sep="")
)
iris[c(5,1,2)]
head(iris)
head(iris)
cat(
paste(
'<script>
var data = ',toJSON(iris[c(5,1,2)]),';
</script>'
, sep="")
)
data
world.outlines <- map('world',plot=FALSE)
world.outlines <- map('world',plot=FALSE)
require(ncdf4)
library(raster)
library(maptools)
library(maps)
library(rasterVis)
library(dplyr)
workdir <-'//Users//mathewbrown//projects//Rstuff//carbonFlux'
setwd(workdir)
cname <- 'CT2016.flux1x1.200101.nc'
ncin <- nc_open(cname)
print(ncin)
library(rgeos)
install.packages('rgeos')
require(ncdf4)
library(raster)
library(maptools)
library(maps)
library(rasterVis)
library(dplyr)
workdir <-'//Users//mathewbrown//projects//Rstuff//carbonFlux'
setwd(workdir)
cname <- 'CT2016.flux1x1.200101.nc'
ncin <- nc_open(cname)
print(ncin)
bio <- raster(cname,varname='bio_flux_opt')
ocn <- raster(cname,varname='ocn_flux_opt')
fossil <- raster(cname,varname='fossil_flux_imp')
fire <- raster(cname,varname='fire_flux_imp')
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsOcn <- as.data.frame(rasterToPoints(ocn))
mapPointsFossil <- as.data.frame(rasterToPoints(fossil))
mapPointsFire <- as.data.frame(rasterToPoints(fire))
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt,fossil_flux_imp,fire_flux_imp))
write.csv(df_sum, file=paste0("carbob_flux",'tst',".csv"), row.names=F)
print(datain)
datain <- setMinMax(datain)
datain <- raster(cname)
datain <- setMinMax(datain)
print(datain)
world.outlines <- map('world',plot=FALSE)
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
world.outlines <- map('world',plot=FALSE)
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
world.outlines.sp <- map2SpatialLines(world.outlines, proj4string = CRS("+proj=longlat"))
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt + layer(sp.lines(world.outlines.sp, col = "black", lwd = 0.5))
print(ncin)
cname
cname[-2]
cname[-2]
cname[-1]
cname[-3]
cname[,-3]
substr(cname,1-2)
substr(cname,12)
substr(cname,1,2)
substr(cname,1,-2)
str_sub
nchar(cname)
substr(cname,1,nchar(cname)-2)
substr(cname,1,nchar(cname)-3)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
-1.00014192614773e-07
-1.00014192614773e-02
-1.00014192614773e-03
9.99962744131957e-09
9.99962744131957e-02
9.99962744131957e-03
1.1e-1
1.1e-2
1.1e-19
1.1e-9
1.1e-8
1.1e-5
1.1e-4
-1.1e-4
1.9498651047712e-12
1.9498651047712e-1
print(datain)
# Plot eq vs water vapour during rainfall
library(gplots)
load("rain_air.RData")
par(mfrow = c(3, 1))
par(oma=c(1,1,1,1))
par(mar=c(4, 6, 0.1, 1))
plotCI(rain_air$delta_18_16conc,rain_air$PeqO,uiw=rain_air$sdO, gap=0,cex=1,xlim=c(-28,-13),xlab = expression(delta^{18}*O ~ ("\u2030")),
ylab = expression(delta^{18}*O[eq] ~ ("\u2030")),yaxt = "n",mgp = c(3.3, 1, 0),cex.lab=1.5,cex.axis=1.5,las=1)
axis(2,at=c(-26,-22,-18,-14),labels=c(-26,-22,-18,-14),cex.lab=1.5, cex.axis=1.5,las=1)
abline(1,1)
res18=lm(formula = rain_air$PeqO~rain_air$delta_18_16conc)
#summary(res18)
par(mar=c(4, 6, 0.1, 1))
plotCI(rain_air$delta_D_H_conc,rain_air$PeqD,uiw=rain_air$sdD,gap=0,cex=1,ylim=c(-200,-90),xlim=c(-200,-90),xlab = expression(delta^{2}*H ~ ("\u2030")),
ylab = expression(delta^{2}*H[eq] ~ ("\u2030")),yaxt = "n",mgp = c(3.5, 1, 0),cex.lab=1.5,cex.axis=1.5)
res18=lm(formula = rain_air$PeqD~rain_air$delta_D_H_conc)
axis(2,at=c(-200,-150,-100),labels=c(-200,-150,-100),cex.lab=1.5, cex.axis=1.5,las=1)
#summary(res18)
abline(1,1)
par(mar=c(4, 6, 0.1, 1))
plot(rain_air$deut,rain_air$Pd,ylim=c(0,30),yaxt = "n",xlim=c(0,30),xlab = expression(italic(d) ~ ("\u2030")),
ylab = expression(italic(d)[eq] ~ ("\u2030")),mgp = c(3, 1, 0),cex.lab=1.5,cex.axis=1.5,las=1)
res18=lm(formula = rain_air$Pd~rain_air$deut)
axis(2,at=c(0,10,20,30),labels=c(0,10,20,30),cex.lab=1.5, cex.axis=1.5,las=1)
#summary(res18)
load("deut_new.RData")
par(new=T)
plot(deut_new,rain_air$Pd,ylim=c(0,30),xlim=c(0,30),pch=19,yaxt = "n",xaxt = "n",ylab = NA,xlab = NA)
res18=lm(formula = rain_air$Pd~deut_new)
#summary(res18)
abline(1,1)
# Plot eq vs water vapour during rainfall
load("rain_air.RData")
rain_air1=rain_air[rain_air$RHavg>75,]
par(mfrow = c(3, 1))
par(oma=c(1,1,0,1))
par(mar=c(1.2,6,2,0))
plot(rain_air1$doy,rain_air1$delta_18_16conc-rain_air1$PeqO,ylab = expression(delta^{18}*O - delta^{18}*O[eq] ~ ("\u2030")),
xlab = expression(""),mgp = c(2.5, 1, 0),xaxt = "n",cex.lab=1.5,cex.axis=1.5,mgp = c(2.6, 1, 0),las=1)
axis(1,at=c(80,100,120,140,160),labels=NA,cex.lab=1.2, cex.axis=1)
doy=rain_air1$doy
res18=lm(formula = rain_air1$delta_18_16conc-rain_air1$PeqO~doy)
#summary(res18)
abline(res18)
save(res18,file="res18.RData")
#par(mar=c(2, 4, 0.1, 1))
par(mar=c(2.2, 6, 1, 0))
plot(rain_air1$doy,rain_air1$delta_D_H_conc-rain_air1$PeqD,ylab = expression(delta^{2}*H - delta^{2}*H[eq] ~ ("\u2030")),mgp = c(2.6, 1, 0), xlab=NA, xaxt = "n",cex.lab=1.5,cex.axis=1.5,las=1)
doy=rain_air1$doy
resD=lm(formula = rain_air1$delta_D_H_conc-rain_air1$PeqD~doy)
#summary(resD)
axis(1,at=c(80,100,120,140,160),,labels=NA,cex.lab=1.2, cex.axis=1)
abline(resD)
save(resD,file="resD.RData")
#par(mar=c(3.2, 4, 0.1, 1))
par(mar=c(3.2,6,0,0))
plot(rain_air1$doy,rain_air1$deut-rain_air1$Pd,ylab = expression(italic(d) - italic(d)[eq]~ ("\u2030")), xlab = expression("DOY"),mgp = c(3, 1, 0),cex.lab=1.5,cex.axis=1.5,mgp = c(2.4, 1, 0),xaxt = "n",las=1)
resd=lm(formula = rain_air1$deut-rain_air1$Pd~rain_air1$doy)
axis(1,at=c(80,100,120,140,160),labels=expression(80,100,120,140,160),cex.lab=1.5, cex.axis=1.5)
#summary(resd)
abline(resd)
## Calculate new ratios using this linear correction
diff18=rain_air$doy*summary(res18)$coefficients[2]+summary(res18)$coefficients[1];
delta_18_16corr = rain_air$delta_18_16conc-diff18
diffD=rain_air$doy*summary(resD)$coefficients[2]+summary(resD)$coefficients[1];
delta_D_Hcorr= rain_air$delta_D_H_conc-diffD
deut_new=delta_D_Hcorr-8*delta_18_16corr
save(deut_new,file="deut_new.RData")
load("cal.RData") # from conc_dependency.R
cal=as.data.frame(cal)
res = nls(d18avg~(a/h2o)+(b/h2o^2)-c, data=cal, start=list(a=-1*10^7,b=16000,c=1))
#res_dh = nls(dHavg~(a*h2o^2)+(b*h2o)-c, data=cal, start=list(a=-6.4*10^-13,b=1.6*10^-8,c=1))
res_dh = nls(dHavg~(a/h2o)+(b/h2o^2)-c, data=cal, start=list(a=-1*10^7,b=16000,c=1))
coef_d18 = res
coef_dH = res_dh
location = "~/R/Paper_palu/"
#file=paste(location,"yuks",".RData", sep="")
save(coef_d18, file="coef_d18.RData")
save(coef_dH, file="coef_dH.RData")
xseq = seq(min(cal$h2o), max(cal$h2o), len=100)
par(oma=c(1,1,1,1))
par(mfrow = c(2, 1))
par(mar=c(3, 6, 1, 1))
library(gplots)
plotCI(cal$h2o,cal$d18avg,uiw=cal$d18sd, gap=0,cex=1,ylim=c(-.5,.2),mgp = c(3, 1, 0),ylab = expression(Delta~delta^{18}*O ~ ("\u2030")),xlab="",  xaxt = "n",col="black",cex.lab=1.2, cex.axis=1.2,las=1)
#plotCI(yy$hour,yy$h2o_ppmv, uiw=yy.se$h2o_ppmv, gap=0,cex=0,ylab = expression(H[2]*O~"(ppm)"),xlab=NA, xaxt = "n",cex.lab=1.5,cex.axis=1.5,type="l",mgp = c(2.5, 1, 0))
abline(h=c(0,0),lty=2)
lines(xseq,coef(res)["a"]/xseq+(coef(res)["b"]/xseq^2)-coef(res)["c"],col="black");
axis(1,at=c(10000,15000,20000,25000,30000),labels=NA,cex.lab=1.2, cex.axis=1)
par(mar=c(4, 6, 0, 1))
plotCI(cal$h2o,cal$dHavg,uiw=cal$dHsd, gap=0,cex=1,mgp = c(3, 1, 0),ylim=c(-2,1),ylab = expression(Delta~delta^{2}*H ~ ("\u2030")),xlab= expression(H[2]*O (ppm)), xaxt = "n",col="black",cex.lab=1.2, cex.axis=1.2,las=1)
abline(h=c(0,0),lty=2)
lines(xseq,coef(res_dh)["a"]/xseq+(coef(res_dh)["b"]/xseq^2)-coef(res_dh)["c"],col="black");
axis(1,at=c(10000,15000,20000,25000,30000), labels=expression(10000,,20000,,30000), cex.axis=1.2)
plotCI
print(datain)
1.9498651047712e-12*3600
1.9498651047712e-12*12/44
1.9498651047712e-12*12/44*3600
1.9498651047712e-12*12/44*3600*24
1.9498651047712e-12*12/44*3600*24*30
1.9498651047712e-12*(12/44)*3600*24*30
-3e-06*(12/44)*3600*24*30
3e-06*(12/44)*3600*24*30
3e-06*(12)*3600*24*30
3e-06*12*3600*24*365
1e-06*12*3600*24*365
4.857330060342e-10*12*3600*24*365
-2.90277164193615e-09*12*3600*24*365
x*12*3600*24*365
x=7.08151106877726e-09
x*12*3600*24*365
x=-2e-06
x=2e-06
x=-2e-06
x*12*3600*24*365
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt,fossil_flux_imp,fire_flux_imp)*12*3600*24*30)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
print(datain)
datain <- raster(cname)
plt <- levelplot(df_sum, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt <- levelplot(df_sum$tot, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
datain
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
datain <- raster(cname,varname='fossil_flux_imp')
datain <- setMinMax(datain)
print(datain)
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt + layer(sp.lines(world.outlines.sp, col = "black", lwd = 0.5))
datain <- raster(cname,varname='fossild_flux_imp')
datain <- raster(cname,varname='fossil_flux_imp')
datain <- setMinMax(datain)
print(datain)
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt + layer(sp.lines(world.outlines.sp, col = "black", lwd = 0.5))
mapPointsFossil
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt)*12*3600*24*30)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
datain <- raster(cname,varname='bio_flux_opt')
datain <- setMinMax(datain)
print(datain)
saveRDS(datain,file=paste0("200101",'.rds'))
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt + layer(sp.lines(world.outlines.sp, col = "black", lwd = 0.5))
require(ncdf4)
library(raster)
library(maptools)
library(maps)
library(rasterVis)
library(dplyr)
workdir <-'//Users//mathewbrown//projects//Rstuff//carbonFlux'
setwd(workdir)
cname <- 'CT2016.flux1x1.200101.nc'
ncin <- nc_open(cname)
print(ncin)
#sum flux components for total surface co2 exchange
#tot = ncatt_get(ncin,'bio_flux_opt')
# use raster to read ncdf
bio <- raster(cname,varname='bio_flux_opt')
ocn <- raster(cname,varname='ocn_flux_opt')
fossil <- raster(cname,varname='fossil_flux_imp')
fire <- raster(cname,varname='fire_flux_imp')
#Put data into data frame
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsOcn <- as.data.frame(rasterToPoints(ocn))
mapPointsFossil <- as.data.frame(rasterToPoints(fossil))
mapPointsFire <- as.data.frame(rasterToPoints(fire))
#merge data frames
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt)*12*3600*24*30)
datain <- raster(cname,varname='bio_flux_opt')
datain <- setMinMax(datain)
print(datain)
world.outlines <- map('world',plot=FALSE)
world.outlines.sp <- map2SpatialLines(world.outlines, proj4string = CRS("+proj=longlat"))
mapTheme <- rasterTheme(region = rev(brewer.pal(10, "RdBu")))
plt <- levelplot(datain, margin = F, cuts=30, pretty=TRUE, par.settings = mapTheme,
main="Carbon Flux")
plt + layer(sp.lines(world.outlines.sp, col = "black", lwd = 0.5))
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
df_sum$bio_flux_opt
df_sum$bio_flux_opt=df_sum$bio_flux_opt*12*3600*24*30
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
df_sum$bio_flux_opt.head()
df_sum$bio_flux_opt
head(df_sum$bio_flux_opt)
tail(df_sum$bio_flux_opt)
max
max(df_sum$bio_flux_opt)
min(df_sum$bio_flux_opt)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
monthly=*12*3600*24*30
monthly=12*3600*24*30
mapPointsBio <- as.data.frame(rasterToPoints(bio)*monthly)
mapPointsBio
max(mapPointsBio)
mapPointsBio <- as.data.frame(rasterToPoints(bio))
max(df_sum$bio_flux_opt)
df_sum$tot = df_sum$tot*monthlty
df_sum$tot = df_sum$tot*monthly
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
max(df_sum$tot)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt))
df_sum$bio_flux_opt = df_sum$bio_flux_opt*monthlty
df_sum$tot = df_sum$tot*monthly
df_sum$bio_flux_opt = df_sum$bio_flux_opt*monthly
df_sum$tot = df_sum$tot*monthly
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt))
df_sum$bio_flux_opt = df_sum$bio_flux_opt*monthly
df_sum$tot = df_sum$tot*monthly
max(df_sum$tot)
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
max(mapPointsOcn$ocn_flux_opt)
max(mapPointsOcn$ocn_flux_opt*12*3600*24*30)
min(mapPointsOcn$ocn_flux_opt*12*3600*24*30)
x
x=df_sum$tot
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsBio$bio_flux_opt = mapPointsBio$bio_flux_opt*monthly
write.csv(mapPointsBio, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
max(mapPointsBio)
min(mapPointsBio)
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsBio$bio_flux_opt = mapPointsBio$bio_flux_opt*monthly
min(mapPointsBio)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt))
# convert netcdf to raster http://geog.uoregon.edu/GeogR/topics/netcdf-to-raster.html
require(ncdf4)
library(raster)
library(maptools)
library(maps)
library(rasterVis)
library(dplyr)
workdir <-'//Users//mathewbrown//projects//Rstuff//carbonFlux'
setwd(workdir)
cname <- 'CT2016.flux1x1.200101.nc'
ncin <- nc_open(cname)
print(ncin)
#sum flux components for total surface co2 exchange
#tot = ncatt_get(ncin,'bio_flux_opt')
# use raster to read ncdf
bio <- raster(cname,varname='bio_flux_opt')
ocn <- raster(cname,varname='ocn_flux_opt')
fossil <- raster(cname,varname='fossil_flux_imp')
fire <- raster(cname,varname='fire_flux_imp')
monthly=12*3600*24*30
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsOcn <- as.data.frame(rasterToPoints(ocn))
mapPointsFossil <- as.data.frame(rasterToPoints(fossil))
mapPointsFire <- as.data.frame(rasterToPoints(fire))
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt))
df_sum$bio_flux_opt = df_sum$bio_flux_opt*monthly
df_sum$tot = df_sum$tot*monthly
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
monthly=12*3600*24*365
all=full_join(mapPointsBio,mapPointsOcn)
all=full_join(all,mapPointsFossil)
all=full_join(all,mapPointsFire)
df_sum= all %>%
rowwise() %>%
mutate(tot=sum(bio_flux_opt,ocn_flux_opt))
df_sum$bio_flux_opt = df_sum$bio_flux_opt*monthly
df_sum$tot = df_sum$tot*monthly
write.csv(df_sum, file=paste0(substr(cname,1,nchar(cname)-3),".csv"), row.names=F)
cname <- 'Data//CT2016.flux1x1.2012-monthly.nc'
ncin <- nc_open(cname)
print(ncin)
bio <- raster(cname,varname='bio_flux_opt')
mapPointsBio <- as.data.frame(rasterToPoints(bio))
mapPointsBio.head()
head(mapPointsBio)
info(mapPointsBio)
print(ncin)
time <- raster(cname,varname='decimal_time')
time <- raster(cname,varname='decimal_time')
time <- raster(cname,varname='decimal_time')
bio <- raster(cname,varname='bio_flux_opt')
time <- raster(cname,varname='decimal_time')
print(ncin)
time <- raster(cname,varname='time')
tunits <- ncatt_get(ncin,"time","units")
tunits
t <- ncvar_get(ncin,"time")
t
dim(t)
tunits
t <- ncvar_get(ncin,"decimal_time")
t
sprintf
for (i in 1:12){
# site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly"
i = sprintf("%02d", i)
url = paste0(site,'2012','i')
print(url)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly"
i = sprintf("%02d", i)
url = paste0(site,'2012','i')
print(url)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly"
i = sprintf("%02d", i)
url = paste0(site,'2012',i)
print(url)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly"
i = sprintf("%02d", i)
url = paste0(site,'2012',i,'.nc')
print(url)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly/CT2016.flux1x1."
i = sprintf("%02d", i)
url = paste0(site,'2012',i,'.nc')
print(url)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly/CT2016.flux1x1."
i = sprintf("%02d", i)
url = paste0(site,'2012',i,'.nc')
# print(url)
destfile <- pasteo('Data/','2012',i,'.nc')
download.file(url,destfile)
}
for (i in 1:12){
site <- "ftp://aftp.cmdl.noaa.gov/products/carbontracker/co2/CT2016/fluxes/monthly/CT2016.flux1x1."
i = sprintf("%02d", i)
url = paste0(site,'2012',i,'.nc')
# print(url)
destfile <- paste0('Data/','2012',i,'.nc')
download.file(url,destfile)
}
